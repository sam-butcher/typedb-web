# TypeDB Web Common Library

The TypeDB Web Common library is a collection of assets, including images, styles and scripts. Some of the scripts
generate reusable UI components.

Because these are intended to be usable in both Angular and static HTML, the components are generated by simply
constructing DOM elements from CMS data and JavaScript.

## Local development

You can configure any project to depend on your local build of `typedb-web-common` using a local path dependency in
the `package.json` of that project. Then, use `pnpm i` to install the package.

For `typedb-web` itself, a local path dependency is used by default.

### Troubleshooting

Q: Running `pnpm i` in an Angular project that depends on `typedb-web-common` (or `typedb-web-schema`) says it updates the version of the library, but the changes aren't reflected
when running `ng serve`.
A:
Use `readlink -f` to find the true location of the `node_modules/typedb-web-common` link. Delete both the true location, and the link. Then, rerun `pnpm i`.
If that fails, try running `ng cache clean` in `website`.
If that fails, try deleting `node_modules` in `website` and rerunning `pnpm i`.
If that fails, try deleting both `node_modules` and `pnpm-lock.yaml` and rerunning `pnpm i`.

Q: Running `pnpm i` in an Angular project that depends on `typedb-web-common` (or `typedb-web-schema`) shows an error on running `tsc` in the install script.
A: A lot of the time, these are transitive dependencies that can be safely ignored (but it would be best to fix the error by upgrading dependency versions!)

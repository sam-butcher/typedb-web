<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="A short example to illustrate Graql queries">
<meta name="keywords" content="graql,  graql, query, mindmapsdb, mindmaps, mindmaps.io, Mindmaps Research, Mindmaps Research Ltd, software, development platform, developer tool, data platform, programming langauge, query langauge, database, semantic database, distributed semantic database, distributed database, graph database, semantic search, data exploration, recommendation system, knowledge management, knowledge engineering, real-time analytics, advanced analytics, reasoning engine, inference engine, expert systems, semantic applications, research engines, data management, business intelligence, big data, semantic web, semantic data, knowledge representation, automated reasoning, semantic network, knowledge ontology, semantic graph, ontology engineering, graph based knowledge representation, artificial intelligence,">
<title>Modern MindmapsDB Example | MindmapsDB</title>
<link rel="stylesheet" href="/pages/css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="/pages/css/modern-business.css">
<link rel="stylesheet" href="/pages/css/lavish-bootstrap.css">
<link rel="stylesheet" href="/pages/css/customstyles.css">
<link rel="stylesheet" href="/pages/css/theme-white.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/pages/js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="/pages/js/toc.js"></script>
<script src="/pages/js/customscripts.js"></script>

<link rel="shortcut icon" href="/img/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://mindmaps.io/pages/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<svg xmlns="http://www.w3.org/2000/svg" width="0" height="0" style="display: none;">
    <symbol id="logo" viewBox="0 0 40 40" aria-labelledby="MindmapsDB">
       <value>MindmapsDB</value>
       <desc>Distributed Semantic Database</desc>
       <polygon vector-effect="non-scaling-stroke" fill="transparent" stroke-linejoin="round" points="20,2 38,20 20,38 2,20"/>
       <polyline vector-effect="non-scaling-stroke" fill="transparent" stroke-linejoin="round" points="7.27,32.73 7.27,7.27 20,20 32.73,7.27 32.73,32.73"/>
    </symbol>
    <symbol id="github" viewBox="0 0 16 16" aria-labelledby="GitHub">
        <value>GitHub</value>
        <desc>GitHub</desc>
        <path vector-effect="non-scaling-stroke" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
    </symbol>
    <symbol id="gitter" viewBox="0 0 28 40" aria-labelledby="Gitter">
        <value>Gitter</value>
        <desc>Gitter</desc>
        <rect vector-effect="non-scaling-stroke" x="15.6" y="6.4" width="3.2" height="33.6"/>
        <rect vector-effect="non-scaling-stroke" x="22" y="6.4" width="3.2" height="17.6"/>
        <rect vector-effect="non-scaling-stroke" x="9.2" y="6.4" width="3.2" height="33.6"/>
        <rect vector-effect="non-scaling-stroke" x="2.8" width="3.2" height="24"/>
    </symbol>
    <symbol id="slack" viewBox="0 0 256 256" aria-labelledby="Slack">
        <path d="M165.963541,15.8384262 C162.07318,3.86308197 149.212328,-2.69009836 137.239082,1.20236066 C125.263738,5.09272131 118.710557,17.9535738 122.603016,29.9268197 L181.550164,211.292328 C185.597902,222.478689 197.682361,228.765377 209.282098,225.426885 C221.381246,221.943607 228.756984,209.093246 224.896,197.21023 C224.749115,196.756984 165.963541,15.8384262 165.963541,15.8384262"></path>
        <path d="M74.6260984,45.515541 C70.7336393,33.5422951 57.8727869,26.9891148 45.899541,30.8794754 C33.9241967,34.7698361 27.3710164,47.6306885 31.2634754,59.6060328 L90.210623,240.971541 C94.2583607,252.157902 106.34282,258.44459 117.942557,255.104 C130.041705,251.62282 137.417443,238.772459 133.556459,226.887344 C133.409574,226.436197 74.6260984,45.515541 74.6260984,45.515541"></path>
        <path d="M240.161574,166.045377 C252.136918,162.155016 258.688,149.294164 254.797639,137.31882 C250.907279,125.345574 238.046426,118.792393 226.07318,122.682754 L44.7076721,181.632 C33.5213115,185.677639 27.234623,197.762098 30.5731148,209.361836 C34.0563934,221.460984 46.9067541,228.836721 58.7897705,224.975738 C59.2430164,224.828852 240.161574,166.045377 240.161574,166.045377"></path>
        <path d="M82.507541,217.270557 C94.312918,213.434754 109.528131,208.491016 125.855475,203.186361 C122.019672,191.380984 117.075934,176.163672 111.76918,159.83423 L68.4191475,173.924721 L82.507541,217.270557"></path>
        <path d="M173.847082,187.591344 C190.235279,182.267803 205.467279,177.31777 217.195016,173.507148 C213.359213,161.70177 208.413377,146.480262 203.106623,130.146623 L159.75659,144.237115 L173.847082,187.591344"></path>
        <path d="M210.484459,74.7058361 C222.457705,70.8154754 229.010885,57.954623 225.120525,45.9792787 C221.230164,34.0060328 208.369311,27.4528525 196.393967,31.3432131 L15.028459,90.292459 C3.84209836,94.3380984 -2.44459016,106.422557 0.896,118.022295 C4.37718033,130.121443 17.227541,137.49718 29.1126557,133.636197 C29.5638033,133.489311 210.484459,74.7058361 210.484459,74.7058361"></path>
        <path d="M52.8220328,125.933115 C64.6274098,122.097311 79.8468197,117.151475 96.1762623,111.84682 C90.8527213,95.4565246 85.9026885,80.2245246 82.0920656,68.4946885 L38.731541,82.5872787 L52.8220328,125.933115"></path>
        <path d="M144.159475,96.256 C160.551869,90.9303607 175.785967,85.9803279 187.515803,82.1676066 C182.190164,65.7752131 177.240131,50.5390164 173.42741,38.807082 L130.068984,52.8996721 L144.159475,96.256"></path>
    </symbol>
</svg>

<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/index.html">
                <svg><use xlink:href="#logo" /></svg>
                <span class="projectTitle">MindmapsDB</span>
            </a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <!-- <li class="dropdown">
                    <a>Documentation</a>
                    <ul>
                        <li><a href="#">Overview</a></li>
                        <li><a href="#">Core API</a></li>
                        <li><a href="#">Graql API</a></li>
                        <li><a href="#">Rest API</a></li>
                        <li><a href="#">Javadoc</a></li>
                    </ul>
                </li> -->
                <li><a href="/pages/platform/index.html">Platform</a></li>
                <li><a href="/pages/index.html">Documentation</a></li>
                <li><a rel="me" href="//mindmaps.io/community.html">Community</a></li>
                <li><a rel="me" href="//discuss.mindmaps.io/">Discussion</a></li>
                <li><a rel="me" href="//blog.mindmaps.io/" target="_blank">Blog</a></li>
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="Search">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="/pages/js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                        SimpleJekyllSearch.init({
                            searchInput: document.getElementById('search-input'),
                            resultsContainer: document.getElementById('results-container'),
                            
                            dataSource: '/pages/search.json',
                            
                            searchResultTemplate: '<li><a href="{url}" title="Modern MindmapsDB Example">{title}</a></li>',
                            noResultsText: '<li><a class="empty">No results found</a></li>',
                            limit: 10,
                            fuzzy: true
                        });
                    </script>
                    <!--end search-->
                </li>
                <!--comment out this block if you want to hide github link-->
                <li>
                    <a rel="me" href="//github.com/mindmapsdb/mindmapsdb" target="_blank" class="github">
                        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#github"></use></svg>
                    </a>
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">
          





<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">MindmapsDB 0.2</li>
    
    
    
    <li>
        <a href="#">Get Started</a>
        <ul>
            
            
            
            <li><a href="/pages/index.html">Home</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/get-started/setup-guide.html">Setup Guide</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">The Basics</a>
        <ul>
            
            
            
            <li><a href="/pages/documentation/the-basics/mindmaps-basics.html">MindmapsDB Basics</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/the-basics/quickstart-tutorial.html">Quickstart Tutorial</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/the-basics/migration-tutorial.html">Migrating to MindmapsDB</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Graph API</a>
        <ul>
            
            
            
            <li><a href="/pages/documentation/core-api/overview.html">Overview</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/core-api/simple-schema-definition.html">Simple Schema Definition</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/core-api/advanced-schema-definition.html">Advanced Schema Definition</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Graql</a>
        <ul>
            
            
            
            <li><a href="/pages/documentation/graql/overview.html">Overview</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/graql/graql-shell.html">Graql Shell</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/graql/match-queries.html">Match Queries</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/graql/ask-queries.html">Ask Queries</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/graql/delete-queries.html">Delete Queries</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/graql/insert-queries.html">Insert Queries</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/graql/compute-queries.html">Compute Queries</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/graql/graql-cheatsheet.html">Graql Cheatsheet</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/graql/java-graql.html">Java Graql</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">API Reference</a>
        <ul>
            
            
            
            <li><a href="/pages/documentation/api-reference/api-reference.html">API Reference</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Resources</a>
        <ul>
            
            
            
            <li><a href="/pages/documentation/resources/resources.html">Resources</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/resources/faq.html">MindmapsDB FAQ</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/resources/downloads.html">Downloads</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Examples</a>
        <ul>
            
            
            
            <li><a href="/pages/documentation/examples/examples.html">Examples</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/examples/pokemon.html">Pokemon example</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/examples/philosophers.html">Philosophers example</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/examples/moogi.html">Moogi example</a></li>
            
            
            
            
            
            
            <li class="active"><a href="/pages/documentation/examples/modern.html">Modern example</a></li>
            
            
            
            
            
            
            <li><a href="/pages/documentation/examples/SQL-migration.html">SQL migration</a></li>
            
            
            
            
        </ul>
        
        

        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

        </div>
        <!-- Content Column -->
        <div class="col-md-9">
            <div class="post-header">
   <h1 class="post-title-main">Modern MindmapsDB Example</h1>
</div>



<div class="post-content">

   
    <div class="summary">A short example to illustrate Graql queries</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    

    

    

    <a target="_blank" href="https://github.com/mindmapsdb/docs/blob/master/pages/documentation/7-examples/modern.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>

    

    

  <p>If you have not yet set up the MindmapsDB environment, please see the <a href="../get-started/setup-guide.html">Setup guide</a>. For a comprehensive guide to all Graql keywords, please see the <a href="https://mindmaps.io/pages/documentation/graql/overview.html">Graql documentation</a>.</p>

<h2 id="introduction">Introduction</h2>
<p>We have a few examples on how to work with Graql using different datasets. For example, see our <a href="https://medium.com/p/e1125e02dc85">blog posts</a> and the <a href="../the-basics/quickstart-tutorial.html">Quickstart Tutorial</a> that introduces how to make Graql queries.</p>

<p>This example takes a very simple example from <a href="http://tinkerpop.apache.org/docs/3.0.1-incubating/">TinkerPop3 Documentation</a>, called TinkerPop Modern. Here it is, shown diagrammatically:</p>

<p><img src="/images/example-tinkerpop-modern.png" alt="" /></p>

<p>The image above is used from the documentation provided for TinkerPop3, and licensed by the <a href="http://www.apache.org">Apache Software Foundation</a>.</p>

<p>We have chosen this example as it may already be familiar, and is simple enough to demonstrate some of the fundamentals of Graql. We walk through the entities (“things”) and relationships between them and show how to represent them in a MindmapsDB graph using Graql to define a schema. We then use Graql to add the data to the graph.  The main purpose of this example, however, is to use it for practice at making sample queries on the graph.</p>

<h3 id="starting-graql">Starting Graql</h3>

<p>If it is not already running, start MindmapsDB, then open a Graql shell:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nb">cd</span> <span class="o">[</span>your MindmapsDB install directory]
bin/mindmaps.sh start
bin/graql.sh
</code></pre>
</div>

<h2 id="defining-a-schema">Defining a Schema</h2>

<p>In the example, we have a number of entities:</p>

<ul>
  <li>people (marko, vadas, josh and peter), each of which has an age.</li>
  <li>software (lop and ripple), each of which has an associated programming language.</li>
</ul>

<p>The relationships between the entities are straightforward:</p>

<ul>
  <li>there are two connections between marko and other people who he “knows” (josh and vadas).</li>
  <li>there are four connections between people and software, such that the people “created” the software. Lop was created by marko, peter and josh, which ripple was created by josh.</li>
</ul>

<p>In this example, we use the name of the person or software to make up their id, as in real life, rather than ascribe them the numbers used in the diagram.</p>

<h3 id="entity-types">Entity Types</h3>

<p>Here, we add person and software entity types to the graph, via the Graql shell:</p>

<pre><code class="language-graql">insert person isa entity-type;
insert software isa entity-type;
</code></pre>

<h3 id="resource-types">Resource Types</h3>

<p>To assign resources to the entities, which you can think of as attributes, we use resource types. First, we define what they are (age is a number, programming language is a string that represents the language’s name), then we allocate them to the entity in question:</p>

<pre><code class="language-graql">insert age isa resource-type, datatype long;
insert person has-resource age;

insert lang isa resource-type, datatype string;
insert software has-resource lang;

insert weight isa resource-type, datatype double;
</code></pre>

<h3 id="relation-types">Relation Types</h3>

<p>Let’s first define the relationship between people. The diagram shows that marko knows vadas, but we don’t have any information about whether the inverse is true (though it seems likely that vadas probably also knows marko). Let’s set up a relationship called <code class="highlighter-rouge">knows</code>, which has two role-types - <code class="highlighter-rouge">knower</code> (for marko) and <code class="highlighter-rouge">known-about</code> (for vadas):</p>

<pre><code class="language-graql">insert knower isa role-type;
insert known-about isa role-type;
insert person plays-role knower;
insert person plays-role known-about;
insert knows isa relation-type, has-role knower, has-role known-about, has-resource weight;	
</code></pre>

<p>Note that the  <code class="highlighter-rouge">knows</code> relation type also has an attribute, in the form of a resource called <code class="highlighter-rouge">weight</code> (though it’s not clear from the TinkerPop example what this represents).</p>

<p>We can set up a similar relationship between software and the people that created it:</p>

<pre><code class="language-graql">insert programmer isa role-type;
insert programmed isa role-type;

insert person plays-role programmer;
insert software plays-role programmed;

insert programming isa relation-type, has-role programmer, has-role programmed, has-resource weight;
</code></pre>

<p>And that’s it. At this point, we have defined the schema of the MindmapsDB graph.</p>

<h2 id="adding-the-data">Adding the Data</h2>
<p>Now we have a schema, we can move on to adding in the data, which is pretty much just a typing exercise:</p>

<pre><code class="language-graql">insert "marko" isa person;
insert "vadas" isa person;
insert "josh" isa person;
insert "peter" isa person;
insert "marko" has age 29;
insert "josh" has age 32;
insert "vadas" has age 27;
insert "peter" has age 35;
insert (knower: "marko", known-about: "josh") isa knows has weight 1.0;
insert (knower: "marko", known-about: "vadas") isa knows has weight 0.5;
</code></pre>

<pre><code class="language-graql">insert "lop" isa software;
insert "ripple" isa software;
insert "lop" has lang "java";
insert "ripple" has lang "java";
insert (programmer: "marko", programmed: "lop") isa programming has weight 0.4;
insert (programmer: "peter", programmed: "lop") isa programming has weight 0.2;
insert (programmer: "josh", programmed: "lop") isa programming has weight 0.4;
insert (programmer: "josh", programmed: "ripple") isa programming has weight 1.0;
</code></pre>

<h2 id="querying">Querying</h2>

<p>This example is designed to get you up close and personal with Graql queries. It will run through a few basic examples, then ask you a set of “Test Yourself” questions. The answers are available at the end of the page, but please don’t look at them immediately! The best way to find out how much you understand about using Graql is to challenge yourself to work out the queries without a prompt.</p>

<p>OK, so if you’ve followed the above, you should now have a schema and some data in a graph. How do you go about using the graph to answer your queries? That’s where the <code class="highlighter-rouge">match</code> statement comes in.</p>

<p>As with any query language, you use a variable to receive the results of the match query, which you must prefix with a <code class="highlighter-rouge">$</code>. So, to make the query “List every person in the graph”, you would use the following in Graql:</p>

<pre><code class="language-graql">match $x isa person;

$x id "marko" isa person; 
$x id "vadas" isa person; 
$x id "josh" isa person; 
$x id "peter" isa person; 
</code></pre>

<p>In Graql, a match is formed of three parts: the <code class="highlighter-rouge">match</code> statement, an optional <code class="highlighter-rouge">select</code> statement, and any other optional <a href="../graql/match-queries.html#modifiers">modifiers</a> that you choose to apply to the listing of results. Only the first part of a match query is needed: the modifier parts are optional.</p>

<p>In the <code class="highlighter-rouge">match $x isa person</code> query we are not using any select or delimiters, so let’s add some now.  We can add a <code class="highlighter-rouge">select</code> statement to ask Graql to list out every person and to include their id (which is their name) and age. We use <code class="highlighter-rouge">order by</code> to modify how the results are listed out - in this case, we order them by ascending age, so the youngest person is shown first.</p>

<pre><code class="language-graql">&gt;&gt;&gt; match $x isa person, has age $a; select $x, $a; order by $a asc;

$x id "vadas" has age "27"; 
$x id "marko" has age "29"; 
$x id "josh" has age "32"; 
$x id "peter" has age "35";
</code></pre>

<p>Now let’s look at querying for a relationship. We can query to find out which entities have a particular role-type associated with a relation-type. For example, we can match everyone with a <code class="highlighter-rouge">knower</code> role who knows someone else:</p>

<pre><code class="language-graql">match $x plays-role knows; 
</code></pre>

<p>We can also match every role that a <code class="highlighter-rouge">person</code> can play:
<code class="highlighter-rouge">graql
match person plays-role $x;
</code></p>

<h2 id="test-yourself">Test Yourself</h2>

<ol>
  <li>
    <p>List every person with their name and age in ascending age order</p>
  </li>
  <li>
    <p>List every person who has an age over 30</p>
  </li>
  <li>
    <p>List every person who knows someone else, and every person who is known about</p>
  </li>
  <li>
    <p>List every person that Marko knows</p>
  </li>
  <li>
    <p>List every item of software and the language associated with it</p>
  </li>
  <li>
    <p>List everything that Josh has programmed</p>
  </li>
  <li>
    <p>List everyone who has programmed Lop</p>
  </li>
  <li>
    <p>List everything you know about Marko</p>
  </li>
</ol>

<h2 id="complete-example">Complete Example</h2>
<p>Here is the complete example - the code to define the schema and insert the data into a graph. You can load this directly into Graql, if you don’t want to type it out for yourself. Cut and paste the Graql below and start Graql:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>bin/graql.sh
</code></pre>
</div>

<p>Then type edit, which will open up the systems default text editor where you can paste your chunk of text. Upon exiting the editor, the Graql will execute.</p>

<pre><code class="language-graql">insert 
age isa resource-type
	datatype long;
person isa entity-type;
person has-resource age;

"marko" isa person;
"vadas" isa person;
"josh" isa person;
"peter" isa person;
"marko" has age 29;
"josh" has age 32;
"vadas" has age 27;
"peter" has age 35;

weight isa resource-type
	datatype double;

knower isa role-type;
known-about isa role-type;

person plays-role knower;
person plays-role known-about;

knows isa relation-type
	has-role knower
	has-role known-about
	has-resource weight;

(knower: "marko", known-about: "josh") isa knows has weight 1.0;
(knower: "marko", known-about: "vadas") isa knows has weight 0.5;

lang isa resource-type
	datatype string;
software isa entity-type;
software has-resource lang;

"lop" isa software;
"ripple" isa software;

"lop" has lang "java";
"ripple" has lang "java";

programmer isa role-type;
programmed isa role-type;

person plays-role programmer;
software plays-role programmed;

programming isa relation-type
	has-role programmer
	has-role programmed
	has-resource weight;

(programmer: "marko", programmed: "lop") isa programming has weight 0.4;
(programmer: "peter", programmed: "lop") isa programming has weight 0.2;
(programmer: "josh", programmed: "lop") isa programming has weight 0.4;
(programmer: "josh", programmed: "ripple") isa programming has weight 1.0;
</code></pre>

<h2 id="answers-to-the-test-yourself-section">Answers to the Test Yourself section</h2>

<p>Here are our solutions to the queries we asked you to form. Please do have a go at them yourself first, before you peek below!</p>

<p>List every person with their name and age in ascending age order</p>

<pre><code class="language-graql">match $x isa person, has age $a; select $x, $a; order by $a asc;
</code></pre>

<p>List every person who has an age over 30, showing their name and age</p>

<pre><code class="language-graql">match $x isa person, has age $a, has age &gt; 30; select $x, $a;
</code></pre>

<p>List every person who knows someone else, and every person who is known about</p>

<pre><code class="language-graql">match (knower: $x) isa knows;
match (known-about: $x) isa knows;
</code></pre>

<p>List every person that marko knows</p>

<pre><code class="language-graql">match (known-about: $x, "marko") isa knows;
</code></pre>

<p>List every item of software and the language associated with it</p>

<pre><code class="language-graql">match $x isa software, has lang $lang;
</code></pre>

<p>List everything that josh has programmed</p>

<pre><code class="language-graql">match (programmed: $x, "josh") isa programming;
</code></pre>

<p>List everyone who has programmed Lop</p>

<pre><code class="language-graql">match (programmer: $x, "lop") isa programming;
</code></pre>

<p>List everything you know about marko</p>

<pre><code class="language-graql">match $relation("marko", $y); $y isa $z; $z isa entity-type; $relation isa $reltype; select $y, $reltype;

</code></pre>

<h2 id="where-next">Where next?</h2>

<p>This example should give you some confidence at looking at the basic types and queries used in a MindmapDB graph. Take a look at the landing page for the MindmapsDB Examples, for more complex examples, such as the Moogi movies dataset.</p>

<h2 id="document-changelog">Document Changelog</h2>

<table>
    <tr>
        <td>Version</td>
        <td>Date</td>
        <td>Description</td>        
    </tr>
        <tr>
        <td>v0.1.1</td>
        <td>19/09/2016</td>
        <td>First release.</td>        
    </tr>

</table>

<h2 id="comments">Comments</h2>
<p>Want to leave a comment? Visit <a href="https://github.com/mindmapsdb/docs/issues/26" target="_blank">the issues on Github for this page</a> (you’ll need a GitHub account). You are also welcome to contribute to our documentation directly via the “Edit me” button at the top of the page.</p>



    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        <a href="/pages/tag_graql.html" class="btn btn-default navbar-btn cursorNorm" role="button">graql</a>
        
        
        
    </div>

    

</div>

<!-- <hr class="shaded"/> -->

<footer class="row">
    <div class="col-lg-4 footer">
        <span class="footer-header">Get in touch</span>
        <p>
            <a class="slack" href="https://mindmaps.io/slack.html">
                <svg><use xmlns:xlink="https://www.w3.org/1999/xlink" xlink:href="#slack"></use></svg> MindmapsDB on Slack
            </a>
            <br>
            <a rel="me" class="github" href="https://github.com/mindmapsdb/mindmapsdb" target="_blank">
                <svg><use xmlns:xlink="https://www.w3.org/1999/xlink" xlink:href="#github"></use></svg> MindmapsDB 0.1 on GitHub
            </a>
            <br><br>
            <a href="mailto:info@mindmaps.io">info@mindmaps.io</a><br>
            Unit 22, 8 Hornsey Street<br>
            London, UK, N7 8EG
        </p>
        <br>
        <p>© 2016 <a href="https://mindmaps.io">Mindmaps Research Ltd</a></p>
        <!-- &copy;2016 MindmapsDB. All rights reserved. <br />
        <span>Page last updated:</span> September 19, 2016<br/> Site last generated: Oct 7, 2016 <br />
        <p><img src="images/company_logo.png" alt="Company logo"/></p> -->
    </div>
    <div class="col-lg-2 footer">
        <span class="footer-header">Get Started</span>
        <ul>
            <li><a href="/pages/platform/index.html">Introduction</a></li>
            <li><a href="/pages/documentation/get-started/setup-guide.html">Install</a></li>
            <li><a href="/pages/documentation/the-basics/quickstart-tutorial.html">Quickstart</a></li>
        </ul>
    </div>
    <div class="col-lg-2 footer">
        <span class="footer-header">Resources</span>
        <ul>
            <li><a href="/pages/index.html">Documentation</a></li>
            <li><a rel="me" href="https://github.com/mindmapsdb/mindmapsdb">GitHub</a></li>
            <li><a href="https://mindmaps.io/javadocs.html">Javadoc</a></li>
        </ul>
    </div>
    <div class="col-lg-2 footer">
        <span class="footer-header">Community</span>
        <ul>
            <li><a rel="me" href="https://discuss.mindmaps.io">Discussion</a></li>
            <li><a rel="me" href="https://stackoverflow.com/tags/mindmapsdb" target="_blank">Stack Overflow</a></li>
            <li><a href="https://mindmaps.io/slack.html">Slack</a></li>
            <li><a rel="me" href="https://twitter.com/mindmapsdb" target="_blank">Twitter</a></li>
        </ul>
    </div>
    <div class="col-lg-2 footer">
        <span class="footer-header">Company</span>
        <ul>
            <li><a rel="me" href="https://blog.mindmaps.io" target="_blank">Blog</a></li>
            <li><a href="https://mindmaps.io/careers.html">Careers</a></li>
            <li><a href="https://mindmaps.io/about.html">About</a></li>
        </ul>
    </div>
</footer>


        </div>
    </div>
</div>
<!-- /.container -->
    </div>

</body>

</html>
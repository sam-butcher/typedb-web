<h1 id="troubleshooting">Troubleshooting</h1>

<blockquote>
  <p><strong>There will be bugs</strong></p>

  <p>While part of the EAP program you may encounter some exceptions. This section
will attempt to help you debug any problems you may encounter. Please feel
free to use the discussion section for any specific queries. This section
will be periodically updated throughout the EAP program.</p>
</blockquote>

<h2 id="strange-exceptions">Strange Exceptions</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>java.lang.RuntimeException: java.lang.IllegalStateException: The vertex or type is not associated with this transaction [v[24584]]
</code></pre>
</div>

<p>This exception occurs when you try to create links between concepts in
different graphs. The following code reproduces this exception:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">MindmapsTitanGraphFactory</span> <span class="n">factory</span> <span class="o">=</span> <span class="n">MindmapsTitanGraphFactory</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
<span class="c1">//Configuration pointing to keyspace one</span>
<span class="n">MindmapsGraph</span> <span class="n">mindmapsGraph1</span> <span class="o">=</span> <span class="n">factory</span><span class="o">.</span><span class="na">newGraph</span><span class="o">(</span><span class="s">"conf1.properties"</span><span class="o">);</span>
<span class="c1">//Configuration pointing to keyspace two</span>
<span class="n">MindmapsGraph</span> <span class="n">mindmapsGraph2</span> <span class="o">=</span> <span class="n">factory</span><span class="o">.</span><span class="na">newGraph</span><span class="o">(</span><span class="s">"conf2.properties"</span><span class="o">);</span>

<span class="n">ConceptType</span> <span class="n">conceptType1</span> <span class="o">=</span> <span class="n">mindmapsGraph1</span><span class="o">.</span><span class="na">putConceptType</span><span class="o">(</span><span class="s">"1"</span><span class="o">);</span>
<span class="n">ConceptType</span> <span class="n">conceptType2</span> <span class="o">=</span> <span class="n">mindmapsGraph2</span><span class="o">.</span><span class="na">putConceptType</span><span class="o">(</span><span class="s">"2"</span><span class="o">);</span>

<span class="n">conceptType1</span><span class="o">.</span><span class="na">superConcept</span><span class="o">(</span><span class="n">conceptType2</span><span class="o">);</span>
</code></pre>
</div>

<h2 id="other-issues">Other Issues</h2>

<h3 id="ghost-vertices">Ghost Vertices</h3>

<p>In a  transaction based environment it is possible to have one transaction
removing a concept while another concurrently modifies the same concept. Both
transactions may successfully commit if the backend is eventually consistent
(e.g. <a href="http://s3.thinkaurelius.com/docs/titan/1.0.0/common-questions.html">Titan
Cassandra</a>
). The concept is likely to still exists with only the modified properties.
When using the Titan Cassandra backend it is possible to safe guard against
this by setting the <code class="highlighter-rouge">checkInternalVertexExistence</code> property to true. However,
this will result in slower transaction as more reads will be necessary.</p>

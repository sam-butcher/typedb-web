<h2 id="insert-queries">Insert Queries</h2>

<div class="language-sql highlighter-rouge"><pre class="highlight"><code><span class="k">insert</span>
<span class="err">$</span><span class="n">p</span> <span class="n">isa</span> <span class="n">pokemon</span><span class="p">,</span> <span class="n">id</span> <span class="nv">"Pichu"</span><span class="p">,</span> <span class="n">has</span> <span class="n">pokedex</span><span class="o">-</span><span class="k">no</span> <span class="mi">172</span><span class="p">;</span>
<span class="p">(</span><span class="n">descendant</span> <span class="n">Pikachu</span><span class="p">,</span> <span class="n">ancestor</span> <span class="err">$</span><span class="n">p</span><span class="p">)</span> <span class="n">isa</span> <span class="n">evolution</span><span class="p">;</span>
</code></pre>
</div>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">qb</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span>
    <span class="n">var</span><span class="o">(</span><span class="s">"p"</span><span class="o">).</span><span class="na">isa</span><span class="o">(</span><span class="s">"pokemon"</span><span class="o">).</span><span class="na">id</span><span class="o">(</span><span class="s">"Pichu"</span><span class="o">).</span><span class="na">has</span><span class="o">(</span><span class="s">"pokedex-no"</span><span class="o">,</span> <span class="mi">172</span><span class="o">),</span>
    <span class="n">var</span><span class="o">().</span><span class="na">isa</span><span class="o">(</span><span class="s">"evolution"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">rel</span><span class="o">(</span><span class="s">"descendant"</span><span class="o">,</span> <span class="n">var</span><span class="o">().</span><span class="na">id</span><span class="o">(</span><span class="s">"Pikachu"</span><span class="o">))</span>
        <span class="o">.</span><span class="na">rel</span><span class="o">(</span><span class="s">"ancestor"</span><span class="o">,</span> <span class="s">"p"</span><span class="o">)</span>
<span class="o">).</span><span class="na">execute</span><span class="o">();</span><span class="err">"</span><span class="o">,</span>
</code></pre>
</div>

<p>An insert query will insert the specified <a href="#variable-patterns">variable
patterns</a> into the graph. If a <a href="match-queries.md">match
query</a> is provided, the query will insert the given variable
patterns for every result of the match query.</p>

<p>A variable pattern is a pattern describing <a href="#properties">properties</a> to set on
a particular concept. The variable pattern can optionally be bound to a
variable, an ID or a “new-type”.</p>

<p>Variable patterns that are not bound, bound to a variable or bound to a
“new-type” are inserted. Variable patterns bound to a type are not
automatically inserted. “new-type” is indicated with the keyword <code class="highlighter-rouge">type</code>
followed by a string.</p>

<h2 id="properties">Properties</h2>

<h3 id="isa">isa</h3>

<div class="language-sql highlighter-rouge"><pre class="highlight"><code><span class="k">insert</span> <span class="n">id</span> <span class="nv">"Totodile"</span> <span class="n">isa</span> <span class="n">pokemon</span><span class="p">;</span>
</code></pre>
</div>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">qb</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">id</span><span class="o">(</span><span class="s">"Totodile"</span><span class="o">).</span><span class="na">isa</span><span class="o">(</span><span class="s">"pokemon"</span><span class="o">));</span>
</code></pre>
</div>

<p>Set the type of this concept.</p>

<h3 id="id">id</h3>

<div class="language-sql highlighter-rouge"><pre class="highlight"><code><span class="k">insert</span> <span class="n">id</span> <span class="nv">"Pikachu"</span> <span class="n">isa</span> <span class="n">pokemon</span>
</code></pre>
</div>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">qb</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">id</span><span class="o">(</span><span class="s">"Pikachu"</span><span class="o">).</span><span class="na">isa</span><span class="o">(</span><span class="s">"pokemon"</span><span class="o">));</span>
</code></pre>
</div>

<p>Create a concept with the given id, or retrieve it if one with that id exists.
The created or retrieved concept can then be modified with further properties.</p>

<h3 id="value">value</h3>

<div class="language-sql highlighter-rouge"><pre class="highlight"><code><span class="k">insert</span> <span class="n">id</span> <span class="nv">"trained-by"</span> <span class="n">isa</span> <span class="n">relation</span><span class="o">-</span><span class="k">type</span><span class="p">,</span> <span class="n">value</span> <span class="nv">"Trained By"</span><span class="p">;</span>
</code></pre>
</div>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">qb</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">id</span><span class="o">(</span><span class="s">"trained-by"</span><span class="o">).</span><span class="na">isa</span><span class="o">(</span><span class="s">"relation-type"</span><span class="o">).</span><span class="na">value</span><span class="o">(</span><span class="s">"Trained By"</span><span class="o">));</span>
</code></pre>
</div>

<p>Set the value of the concept.</p>

<h3 id="has">has</h3>

<div class="language-sql highlighter-rouge"><pre class="highlight"><code><span class="k">insert</span> <span class="n">id</span> <span class="nv">"Pichu"</span> <span class="n">isa</span> <span class="n">pokemon</span> <span class="n">has</span> <span class="n">height</span> <span class="mi">30</span><span class="p">;</span>
</code></pre>
</div>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">qb</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">id</span><span class="o">(</span><span class="s">"Pichu"</span><span class="o">).</span><span class="na">isa</span><span class="o">(</span><span class="s">"pokemon"</span><span class="o">).</span><span class="na">has</span><span class="o">(</span><span class="s">"height"</span><span class="o">,</span> <span class="mi">30</span><span class="o">));</span>
</code></pre>
</div>

<p>Add a resource of the given type to the concept.</p>

<h3 id="relation">relation</h3>

<div class="language-sql highlighter-rouge"><pre class="highlight"><code><span class="k">insert</span> <span class="p">(</span><span class="n">pokemon</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="k">type</span> <span class="n">Pichu</span><span class="p">,</span> <span class="k">type</span><span class="o">-</span><span class="k">of</span><span class="o">-</span><span class="n">pokemon</span> <span class="n">electric</span><span class="p">)</span> <span class="n">isa</span> <span class="n">has</span><span class="o">-</span><span class="k">type</span><span class="p">;</span>
</code></pre>
</div>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">qb</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span>
  <span class="n">var</span><span class="o">()</span>
    <span class="o">.</span><span class="na">rel</span><span class="o">(</span><span class="s">"pokemon-with-type"</span><span class="o">,</span> <span class="s">"Pichu"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">rel</span><span class="o">(</span><span class="s">"type-of-pokemon"</span><span class="o">,</span> <span class="s">"electric"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">isa</span><span class="o">(</span><span class="s">"has-type"</span><span class="o">)</span>
<span class="o">);</span><span class="err">"</span><span class="o">,</span>
</code></pre>
</div>

<p>Make the concept a relation that relates the given role players, playing the
given roles.</p>

<h2 id="type-properties">Type Properties</h2>

<p>The following properties only apply to types.</p>

<h3 id="ako">ako</h3>

<div class="language-sql highlighter-rouge"><pre class="highlight"><code><span class="k">insert</span> <span class="n">id</span> <span class="nv">"gen2-pokemon"</span> <span class="n">ako</span> <span class="n">pokemon</span><span class="p">;</span>
</code></pre>
</div>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">qb</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">id</span><span class="o">(</span><span class="s">"gen2-pokemon"</span><span class="o">).</span><span class="na">ako</span><span class="o">(</span><span class="s">"pokemon"</span><span class="o">));</span>
</code></pre>
</div>

<p>Set the super type of this concept type.</p>

<h3 id="has-role">has-role</h3>

<div class="language-sql highlighter-rouge"><pre class="highlight"><code><span class="k">insert</span>
<span class="n">id</span> <span class="nv">"trained-by"</span> <span class="n">isa</span> <span class="n">relation</span><span class="o">-</span><span class="k">type</span><span class="p">,</span> <span class="n">has</span><span class="o">-</span><span class="k">role</span> <span class="n">trainer</span><span class="p">,</span> <span class="n">has</span><span class="o">-</span><span class="k">role</span> <span class="n">pokemon</span><span class="o">-</span><span class="n">trained</span><span class="p">;</span>
</code></pre>
</div>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">qb</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span>
  <span class="n">id</span><span class="o">(</span><span class="s">"trained-by"</span><span class="o">).</span><span class="na">isa</span><span class="o">(</span><span class="s">"relation-type"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">hasRole</span><span class="o">(</span><span class="s">"trainer"</span><span class="o">).</span><span class="na">hasRole</span><span class="o">(</span><span class="s">"pokemon-trained"</span><span class="o">)</span>
<span class="o">);</span>
</code></pre>
</div>

<p>Add a role to this relation type.</p>

<h3 id="plays-role">plays-role</h3>

<div class="language-sql highlighter-rouge"><pre class="highlight"><code><span class="k">insert</span> <span class="n">pokemon</span> <span class="n">plays</span><span class="o">-</span><span class="k">role</span> <span class="n">pokemon</span><span class="o">-</span><span class="n">trained</span><span class="p">;</span>
</code></pre>
</div>
<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">qb</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">id</span><span class="o">(</span><span class="s">"pokemon"</span><span class="o">).</span><span class="na">playsRole</span><span class="o">(</span><span class="s">"pokemon-trained"</span><span class="o">));</span>
</code></pre>
</div>

<p>Allow the concept type to play the given role.</p>

<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Demonstrates how to create a schema for a Mindmaps knowledge graph">
<meta name="keywords" content=",  core, schema">
<title>Defining a Schema | MindmapsDB</title>
<link rel="stylesheet" href="/docs/css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="/docs/css/modern-business.css">
<link rel="stylesheet" href="/docs/css/lavish-bootstrap.css">
<link rel="stylesheet" href="/docs/css/customstyles.css">
<link rel="stylesheet" href="/docs/css/theme-white.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/docs/js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="/docs/js/toc.js"></script>
<script src="/docs/js/customscripts.js"></script>

<link rel="shortcut icon" href="/img/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://mindmaps.io/docs/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<svg xmlns="http://www.w3.org/2000/svg" width="0" height="0" style="display: none;">
    <symbol id="logo" viewBox="0 0 40 40" aria-labelledby="MindmapsDB">
       <value>MindmapsDB</value>
       <desc>Distributed Semantic Database</desc>
       <polygon vector-effect="non-scaling-stroke" fill="transparent" stroke-linejoin="round" points="20,2 38,20 20,38 2,20"/>
       <polyline vector-effect="non-scaling-stroke" fill="transparent" stroke-linejoin="round" points="7.27,32.73 7.27,7.27 20,20 32.73,7.27 32.73,32.73"/>
    </symbol>
    <symbol id="github" viewBox="0 0 16 16" aria-labelledby="GitHub">
        <value>GitHub</value>
        <desc>GitHub</desc>
        <path vector-effect="non-scaling-stroke" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
    </symbol>
    <symbol id="gitter" viewBox="0 0 28 40" aria-labelledby="Gitter">
        <value>Gitter</value>
        <desc>Gitter</desc>
        <rect vector-effect="non-scaling-stroke" x="15.6" y="6.4" width="3.2" height="33.6"/>
        <rect vector-effect="non-scaling-stroke" x="22" y="6.4" width="3.2" height="17.6"/>
        <rect vector-effect="non-scaling-stroke" x="9.2" y="6.4" width="3.2" height="33.6"/>
        <rect vector-effect="non-scaling-stroke" x="2.8" width="3.2" height="24"/>
    </symbol>
</svg>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/index.html">
                <svg><use xlink:href="#logo" /></svg>
                <span class="projectTitle">MindmapsDB</span>
            </a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="about.html">About</a></li>
                
                
                
                <li><a href="careers.html">Careers</a></li>
                
                
                
                <li><a href="//discuss.mindmaps.io" target="_blank">Discussion</a></li>
                
                
                
                <li><a href="//blog.mindmaps.io" target="_blank">Blog</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <!--comment out this block if you want to hide github link-->
                <li>
                    <a rel="nofollow me" class="github">
                        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#github"></use></svg>
                    </a>
                </li>
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="Search">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="/docs/js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                        SimpleJekyllSearch.init({
                            searchInput: document.getElementById('search-input'),
                            resultsContainer: document.getElementById('results-container'),
                            
                            dataSource: '/docs/search.json',
                            
                            searchResultTemplate: '<li><a href="{url}" title="Defining a Schema">{title}</a></li>',
                            noResultsText: '<li><a class="empty">No results found</a></li>',
                            limit: 10,
                            fuzzy: true
                        });
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">
          





<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">MindmapsDB 1.0</li>
    
    
    
    <li>
        <a href="#">Get Started</a>
        <ul>
            
            
            
            <!-- <li><a href="overviewoverview">Overview</a></li> -->
            <li><a href="/docs/overview/overview">Overview</a></li>
            
            
            
            
            
            
            <!-- <li><a href="overviewgetting_started">Setup Guide</a></li> -->
            <li><a href="/docs/overview/getting_started">Setup Guide</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">The Basics</a>
        <ul>
            
            
            
            <!-- <li><a href="overviewmindmaps_basics">Mindmaps Basics</a></li> -->
            <li><a href="/docs/overview/mindmaps_basics">Mindmaps Basics</a></li>
            
            
            
            
            
            
            <!-- <li><a href="overviewquickstart_tutorial">Quickstart Tutorial</a></li> -->
            <li><a href="/docs/overview/quickstart_tutorial">Quickstart Tutorial</a></li>
            
            
            
            
            
            
            <!-- <li><a href="overviewquickstart_tutorial_java">Java Quickstart Tutorial</a></li> -->
            <li><a href="/docs/overview/quickstart_tutorial_java">Java Quickstart Tutorial</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Troubleshooting</a>
        <ul>
            
            
            
            <!-- <li><a href="overviewtroubleshooting">Troubleshooting</a></li> -->
            <li><a href="/docs/overview/troubleshooting">Troubleshooting</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Resources</a>
        <ul>
            
            
            
            <!-- <li><a href="overviewdownloads">Downloads</a></li> -->
            <li><a href="/docs/overview/downloads">Downloads</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Graql</a>
        <ul>
            
            
            
            <!-- <li><a href="graqloverview">Overview</a></li> -->
            <li><a href="/docs/graql/overview">Overview</a></li>
            
            
            
            
            
            
            <!-- <li><a href="graqlmatch-queries">Match Queries</a></li> -->
            <li><a href="/docs/graql/match-queries">Match Queries</a></li>
            
            
            
            
            
            
            <!-- <li><a href="graqlask-queries">Ask Queries</a></li> -->
            <li><a href="/docs/graql/ask-queries">Ask Queries</a></li>
            
            
            
            
            
            
            <!-- <li><a href="graqldelete-queries">Delete Queries</a></li> -->
            <li><a href="/docs/graql/delete-queries">Delete Queries</a></li>
            
            
            
            
            
            
            <!-- <li><a href="graqlinsert-queries">Insert Queries</a></li> -->
            <li><a href="/docs/graql/insert-queries">Insert Queries</a></li>
            
            
            
            
            
            
            <!-- <li><a href="graqlgraql-shell">Graql Shell</a></li> -->
            <li><a href="/docs/graql/graql-shell">Graql Shell</a></li>
            
            
            
            
            
            
            <!-- <li><a href="graqljava-graql">Java Graql</a></li> -->
            <li><a href="/docs/graql/java-graql">Java Graql</a></li>
            
            
            
            
        </ul>
        
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

        </div>
        <!-- Content Column -->
        <div class="col-md-9">
            <div class="post-header">
   <h1 class="post-title-main">Defining a Schema</h1>
</div>



<div class="post-content">

   
    <div class="summary">Demonstrates how to create a schema for a Mindmaps knowledge graph</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    

    

    

    <!-- <a target="_blank" href="https://github.com/mindmapsdb/docs/blob/master/pages/core/defining-schema.html.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a> -->
    <a target="_blank" href="https://github.com/mindmapsdb/docs/blob/master/pages/defining-schema.html.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>

    

    

  <h1 id="mindmaps-schema">Mindmaps Schema</h1>

<p>Defining a schema for your graph allows you to:</p>

<ul>
  <li>Control how your data relates to each other</li>
  <li>Ensure your graph is consistent</li>
  <li>Design domain specific knowledge graphs</li>
</ul>

<p>In Mindmaps a schema is defined by adding <strong>types</strong> to your graph. 
These <strong>types</strong> allow you to divide your  data into different categories but also control how data instances may relate to each other.</p>

<p>In this section we will review each of these types and explain how you use them when defining a Mindmaps graph.</p>

<h2 id="basic-types">Basic Types</h2>

<p>This section describes basic types which are <strong>essential</strong> to a Mindmaps schema. 
When creating a Mindmaps knowledge graph you should always begin with defining these schema elements.</p>

<h3 id="entity-type">Entity Type</h3>

<p>Entity types essentially define a broad category which data can fall with in. For example Al Pacino, Patrick Stewart, 
and Charlize Theron could all be categorised as people. 
Similarly we could say that Godfather, Star Treck Nemisis, and Monster can all be categorised as movies.</p>

<p>We would define such <strong>Entity Types</strong> as follows:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">EntityType</span> <span class="n">person</span> <span class="o">=</span> <span class="n">mindmapsTransaction</span><span class="o">.</span><span class="na">putEntityType</span><span class="o">(</span><span class="s">"Person"</span><span class="o">);</span>
<span class="n">EntityType</span> <span class="n">movie</span> <span class="o">=</span> <span class="n">mindmapsTransaction</span><span class="o">.</span><span class="na">putEntityType</span><span class="o">(</span><span class="s">"Movie"</span><span class="o">);</span>
</code></pre>
</div>

<p>With this we can arrange our data into categories:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">alPacino</span> <span class="o">=</span> <span class="n">mindmapsTransaction</span><span class="o">.</span><span class="na">addEntity</span><span class="o">(</span><span class="n">person</span><span class="o">).</span><span class="na">setValue</span><span class="o">(</span><span class="s">"Al Pacino"</span><span class="o">);</span>
<span class="n">patrickStewart</span> <span class="o">=</span> <span class="n">mindmapsTransaction</span><span class="o">.</span><span class="na">addEntity</span><span class="o">(</span><span class="n">person</span><span class="o">).</span><span class="na">setValue</span><span class="o">(</span><span class="s">"Patrick Stewart"</span><span class="o">);</span>
<span class="n">charliseTheron</span> <span class="o">=</span> <span class="n">mindmapsTransaction</span><span class="o">.</span><span class="na">addEntity</span><span class="o">(</span><span class="n">person</span><span class="o">).</span><span class="na">setValue</span><span class="o">(</span><span class="s">"Charlise Theron"</span><span class="o">);</span>

<span class="n">godfather</span> <span class="o">=</span> <span class="n">mindmapsTransaction</span><span class="o">.</span><span class="na">addEntity</span><span class="o">(</span><span class="n">movie</span><span class="o">).</span><span class="na">setValue</span><span class="o">(</span><span class="s">"Godfather"</span><span class="o">);</span>
<span class="n">starTreck</span> <span class="o">=</span> <span class="n">mindmapsTransaction</span><span class="o">.</span><span class="na">addEntity</span><span class="o">(</span><span class="n">movie</span><span class="o">).</span><span class="na">setValue</span><span class="o">(</span><span class="s">"Star Treck Nemisis"</span><span class="o">);</span>
<span class="n">monster</span> <span class="o">=</span> <span class="n">mindmapsTransaction</span><span class="o">.</span><span class="na">addEntity</span><span class="o">(</span><span class="n">movie</span><span class="o">).</span><span class="na">setValue</span><span class="o">(</span><span class="s">"Monster"</span><span class="o">);</span>
</code></pre>
</div>

<h3 id="relation-and-role-types">Relation and Role Types</h3>

<p>The greatest advantage of a graph database is the expressiveness of the relationships between our data. 
With Mindmaps we can control how our data relates to each other.</p>

<p>For example how can we say that Patrick Stewart starred in Star Treck Nemisis ? 
To be able to do so we must first allow such behaviour between our types. 
We begin doing this by defining a <strong>Relation Type</strong> which categorises the relationships of a specific type. 
For example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">RelationType</span> <span class="n">starsIn</span> <span class="o">=</span> <span class="n">mindmapsTransaction</span><span class="o">.</span><span class="na">putRelationType</span><span class="o">(</span><span class="s">"Stars In"</span><span class="o">);</span>
</code></pre>
</div>

<p>In addition to this we have to specify the roles of relationship:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">RoleType</span> <span class="n">actor</span> <span class="o">=</span> <span class="n">mindmapsTrancation</span><span class="o">.</span><span class="na">putRoleType</span><span class="o">(</span><span class="s">"Actor"</span><span class="o">);</span>
<span class="n">RoleType</span> <span class="n">movieCastIn</span> <span class="o">=</span> <span class="n">mindmapsTrancation</span><span class="o">.</span><span class="na">putRoleType</span><span class="o">(</span><span class="s">"Movie Cast In"</span><span class="o">);</span>
</code></pre>
</div>

<p>We also have to link these roles to the correct <strong>Relaiton Type</strong> (NB Roles are unique and cannot be in more than one 
Relation Type):</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">starsIn</span><span class="o">.</span><span class="na">hasRole</span><span class="o">(</span><span class="n">actor</span><span class="o">).</span><span class="na">hasRole</span><span class="o">(</span><span class="n">movieCastIn</span><span class="o">);</span> 
</code></pre>
</div>

<p>Finally we have to explicitly define which <strong>Entity Typpes</strong> are allowed to play which <strong>*Role Types</strong>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">person</span><span class="o">.</span><span class="na">playsRole</span><span class="o">(</span><span class="n">actor</span><span class="o">);</span>
<span class="n">movie</span><span class="o">.</span><span class="na">playsRolw</span><span class="o">(</span><span class="n">movieCastIn</span><span class="o">);</span>
</code></pre>
</div>

<p>The above statements allow people to be actors and allow movies to have actors cast in them.</p>

<p><strong>Note:</strong> Explicitly specifying which <strong>Role Types</strong> an <strong>Entity Type</strong> can play allows us to control our data more easily. 
Essentially it would prevent us from accidentally saying that a movie starred in another movie.</p>

<p>Now finally we can specify that Patrick Stewart was in Star Treck Nemisis. 
First we create an instance of the Relation Type:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Relation</span> <span class="n">relation</span> <span class="o">=</span> <span class="n">mindmapsTransaction</span><span class="o">.</span><span class="na">addRelation</span><span class="o">(</span><span class="n">starsIn</span><span class="o">);</span>
</code></pre>
</div>

<p>Then we specify who is playing which role:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">relation</span><span class="o">.</span><span class="na">putRolePlayer</span><span class="o">(</span><span class="n">actor</span><span class="o">,</span> <span class="n">patrickStewart</span><span class="o">).</span><span class="na">putRolePlayer</span><span class="o">(</span><span class="n">movieCastIn</span><span class="o">,</span> <span class="n">startreck</span><span class="o">);</span>
</code></pre>
</div>


    <div class="tags">
        
        <b>Tags: </b>
        
        
        
    </div>

    

</div>

<!-- <hr class="shaded"/> -->

<footer class="row">
    <div class="col-lg-5 footer">
        <span class="footer-header">Get in touch</span>
        <p>
            <a rel="nofollow me" class="gitter" href="http://gitter.im/mindmapsdb/mindmapsdb" target="_blank">
                <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#gitter"></use></svg> #mindmapsdb on Gitter
            </a>
            <br>
            <a rel="nofollow me" class="github" href="http://gitter.im/mindmapsdb/mindmapsdb" target="_blank">
                <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#github"></use></svg> MindmapsDB 0.1 on GitHub
            </a>
            <br><br>
            <a href="mailto:info@mindmaps.io">info@mindmaps.io</a><br>
            Unit 22, 8 Hornsey Street<br>
            London, UK, N7 8EG
        </p>
        <br>
        <p>© 2016 <a href="http://minadmaps.io">Mindmaps Research Ltd</a></p>
        <!-- &copy;2016 MindmapsDB. All rights reserved. <br />
        <span>Page last updated:</span> August 1, 2016<br/> Site last generated: Aug 12, 2016 <br />
        <p><img src="images/company_logo.png" alt="Company logo"/></p> -->
    </div>
    <div class="col-lg-2 footer">
        <span class="footer-header">Community</span>
        <ul>
            <li><a href="http://discuss.mindmaps.io">Discussion</a></li>
            <li><a rel="nofollow me" href="http://stackoverflow.com/tags/mindmapsdb" target="_blank">Stack Overflow</a></li>
            <li><a rel="nofollow me" href="http://gitter.im/mindmapsdb/mindmapsdb" target="_blank">Gitter</a></li>
            <li><a rel="nofollow me" href="http://twitter.com/mindmapsdb" target="_blank">Twitter</a></li>
        </ul>
    </div>
    <div class="col-lg-2 footer">
        <span class="footer-header">Company</span>
        <ul>
            <li><a rel="nofollow me" href="http://blog.mindmaps.io" target="_blank">Blog</a></li>
            <li><a href="http://minadmaps.io/careers.html">Careers</a></li>
            <li><a href="http://minadmaps.io/about.html">About</a></li>
        </ul>
    </div>
</footer>

        </div>
    </div>
</div>
<!-- /.container -->
    </div>

</body>

</html>